{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Provider Registration Schema",
  "description": "Schema for registering AI providers (OpenAI, Anthropic, etc.) with the Provider Router",
  "type": "object",
  "required": [
    "name",
    "model",
    "context_window",
    "cost_per_input_token",
    "cost_per_output_token",
    "endpoint"
  ],
  "properties": {
    "name": {
      "type": "string",
      "description": "Unique provider name (e.g., 'openai-gpt4', 'anthropic-claude')",
      "minLength": 1,
      "maxLength": 100
    },
    "model": {
      "type": "string",
      "description": "Model identifier (e.g., 'gpt-4', 'claude-sonnet-3.5')",
      "minLength": 1,
      "maxLength": 100
    },
    "context_window": {
      "type": "integer",
      "description": "Maximum context window size in tokens",
      "minimum": 1,
      "maximum": 2000000
    },
    "cost_per_input_token": {
      "type": "number",
      "description": "Cost per input token in USD (e.g., 0.00003 for $0.03/1K tokens)",
      "minimum": 0,
      "exclusiveMinimum": false
    },
    "cost_per_output_token": {
      "type": "number",
      "description": "Cost per output token in USD (e.g., 0.00006 for $0.06/1K tokens)",
      "minimum": 0,
      "exclusiveMinimum": false
    },
    "endpoint": {
      "type": "string",
      "description": "Base URL for provider API (e.g., 'http://localhost:8100')",
      "format": "uri"
    },
    "features": {
      "type": "array",
      "description": "Optional list of supported features",
      "items": {
        "type": "string",
        "enum": [
          "function_calling",
          "streaming",
          "vision",
          "embeddings",
          "fine_tuning"
        ]
      },
      "uniqueItems": true
    },
    "slo": {
      "type": "object",
      "description": "Optional Service Level Objectives",
      "properties": {
        "latency_p95_ms": {
          "type": "integer",
          "description": "95th percentile latency in milliseconds",
          "minimum": 0
        },
        "throughput_rps": {
          "type": "integer",
          "description": "Maximum requests per second",
          "minimum": 1
        },
        "availability_percent": {
          "type": "number",
          "description": "Availability percentage (e.g., 99.9)",
          "minimum": 0,
          "maximum": 100
        }
      }
    },
    "metadata": {
      "type": "object",
      "description": "Optional provider metadata",
      "additionalProperties": true
    }
  }
}
